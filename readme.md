# Face landmark detection

Детекция точек на лице, визуализация маски. Реализация для видеокамеры с использованием MediaPipe.

Все необходимые библиотеки в requirements.txt

## Логика работы 

В папке util_funcs вспомогательные функции

в main.py и main_async.py основная логика

При запуске скрипт обращается к видео источнику (должна быть камера или ссылка на видео поток), далее читает кадры и осуществляет детекцию. При завершении процесса, возвращается последний кадр видео, кадр с наложенной маской и результаты детекции сетки. 

Функция *get_coordinates* вычисляет координаты точек, которые детектит нейронка на сохранённом кадре. Результат возвращается в виде словаря, где точки разбиты по зонам лица:

['nose', 'lips', 'right eyebrow', 'left eyebrow', 'right eye', 'left eye', 'face_oval']

С помощью функции *draw_dots* можно нарисовать эти точки на изображении. 

В оригинале координаты возвращаются в виде доли от общего размера. Т.е. координата, например, по оси Х будет каким-то дробным числом типа 0.612369.... что означает, что координата находится на расстоянии в 61.2369% от общей ширины кадра. 

В main_async.py всё то же самое, только реализация для локально лежащей модели и там используется функция асинхронной разметки. Модель находится в папке models, но актуальную версию всегда можно скачать с сайта MediaPipe: https://ai.google.dev/edge/mediapipe/solutions/vision/face_landmarker